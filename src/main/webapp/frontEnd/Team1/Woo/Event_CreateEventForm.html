<!DOCTYPE html>
<html lang="zh-Hant-TW">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ixercise</title>
    <!-- 引入bootstarp跟共用css內容========================================= -->
    <link href="../lib/css/styles.css" rel="stylesheet" />
    <link href="../lib/font/bootstrap-icons.min.css" rel="stylesheet" />

    <!-- 引入頁籤icon======================================================= -->
    <link rel="icon" type="image/x-icon" href="../lib/img/IX-nobackground.png" />
    <!-- =========================================== -->
    <style>
        .test {
            /* color: #e9e90e; */
            /* font-size: 30px; */
            /* padding: 0; */
            box-sizing: border-box;
            border: solid #0a58ca;
        }

        .test2 {
            color: white;
        }

        .col-8 {
            display: auto;
        }

        input {
            display: flex;
            width: 500px;
        }

        /* h1 {
            display: inline-block;
        } */

        .testbox {
            border: solid #cff900;
        }

        .custom-container {
            max-width: auto;
            /* change this to your desired width */
        }

        /* focus search field dropdown list */
        .dropdown:focus-within .dropdown-menu {
            display: block;
        }

        .vertical {
            vertical-align: top;
        }

        /* =================================================  form 表單================================================ */
        /* ====================================image upload css =====================*/
        /* #preview {
            border: 2px dashed #ccc;
            padding: 10px;
            margin-bottom: 10px;
            cursor: pointer;

        } */

        /* 讓上傳照片的按鈕消失 */
        /* #photo-dropzone,
        .forDhotoDrop {
            display: none;
        } */

        #previewBox.dragover {
            /* border-color: #aaa; */
            border: 1px dashed lightblue;
            box-shadow: 3px 3px 5px lightblue inset, -3px -3px 5px lightblue inset;
        }


        /* teacher's css */
        #previewBox {
            border: 1px solid lightgray;
            /* display: inline-block; */
            /* width: 100%; */
            min-height: 150px;
            position: relative;
            cursor: pointer;
        }


        #previewBox span.text {
            position: absolute;
            display: inline-block;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            z-index: 1;
            color: lightgray;
        }

        #previewBox img.preview_img {
            width: 100%;
        }

        /* =============================== */
        textarea {
            max-height: 200px;
        }

        /* yellow preview button */
        .ylbtn {
            color: #B6B6B6;
            /* background-color: #ffc107; */
            background-color: #FFF366;

            border: 1px solid #A7A7A7;
            box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);
            border-radius: 30px;

        }

        /* form 表單 padding */
        .formpad {
            padding-right: calc(var(--bs-gutter-x) * 1);
            padding-left: calc(var(--bs-gutter-x) * 1);
        }

        /* form -image upload css  */
        #image-preview img {
            max-width: 100%;
            height: auto;
        }

        .event-card-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
    </style>
</head>

<body>

    <!-- 以下導覽列=================================================================================== -->
    <!-- 增加w-100 sticky-top -->
    <nav class="navbar navbar-expand-lg navbar-light w-100 sticky-top navbar-color">
        <div class=" container-fluid px-4 px-lg-0 me-4 ">

            <!-- 商標===================================================================== -->
            <a class="navbar-brand m-0 px-4" href="#!">
                <img src="../lib/img/IX-nobackground.png" alt="" width="91" height="60">
            </a>
            <!-- Bootstrap 5 的 Navbar Toggler 按鈕，用於在手機和平板等較小螢幕上，點擊按鈕時切換導覽列的展開和收縮狀態。 -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>

            <!-- 商標的右邊整條============================================================ -->
            <div class="collapse navbar-collapse " id="navbarSupportedContent">

                <ul class="navbar-nav mb-2 mb-lg-0 w-100">
                    <!-- 搜尋欄=============================================================== -->
                    <!-- <li class="nav-item my-auto">
                        <form class="d-flex">
                            <input class="form-control" type="search" placeholder="找活動..." aria-label="Search">
                            <button class="btn border border-2 border-dark" type="submit">Search</button>
                        </form>
                    </li> -->

                    <li class="nav-item my-auto">
                        <form class="d-flex ">
                            <input class="form-control" id="searchbar" type="search" placeholder="找活動..."
                                aria-label="Search" data-bs-toggle="collapse" href="#collapseExample" role="button"
                                aria-expanded="false" aria-controls="collapseExample">
                            </input>
                            <button class="btn border border-1 border-dark" type="submit">Search</button>
                        </form>


                        <!-- ================================================================== -->
                        <!-- <div class="collapse" id="collapseExample"> -->
                        <div class="card card-body top-25 start-25 position-fixed d-none" id="searchcard">
                            <div class="container-fluid w-100">
                                <div class="row mb-3">
                                    <div class="col-3">
                                        <select class="form-select form-select-sm" aria-label="Default select example">
                                            <option class="disable" selected>頁面 </option>
                                            <option value="1">One</option>
                                            <option value="2">Two</option>
                                            <option value="3">Three</option>
                                        </select>
                                    </div>
                                    <div class="col-3">
                                        <select class="form-select form-select-sm" aria-label="Default select example">
                                            <option selected>Open </option>
                                            <option value="1">One</option>
                                            <option value="2">Two</option>
                                            <option value="3">Three</option>
                                        </select>
                                    </div>
                                    <div class="col-3">
                                        <select class="form-select form-select-sm" aria-label="Default select example">
                                            <option selected>Open </option>
                                            <option value="1">One</option>
                                            <option value="2">Two</option>
                                            <option value="3">Three</option>
                                        </select>
                                    </div>
                                    <div class="col-3">
                                        <select class="form-select form-select-sm" aria-label="Default select example">
                                            <option selected>Open </option>
                                            <option value="1">One</option>
                                            <option value="2">Two</option>
                                            <option value="3">Three</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <div class="col-3">
                                        <select class="form-select form-select-sm" aria-label="Default select example">
                                            <option selected>Open </option>
                                            <option value="1">One</option>
                                            <option value="2">Two</option>
                                            <option value="3">Three</option>
                                        </select>
                                    </div>
                                    <div class="col-3">
                                        <select class="form-select form-select-sm" aria-label="Default select example">
                                            <option selected>Open </option>
                                            <option value="1">One</option>
                                            <option value="2">Two</option>
                                            <option value="3">Three</option>
                                        </select>
                                    </div>
                                    <div class="col-3">
                                        <select class="form-select form-select-sm" aria-label="Default select example">
                                            <option selected>Open </option>
                                            <option value="1">One</option>
                                            <option value="2">Two</option>
                                            <option value="3">Three</option>
                                        </select>
                                    </div>
                                    <div class="col-3">
                                        <select class="form-select form-select-sm" aria-label="Default select example">
                                            <option selected>Open </option>
                                            <option value="1">One</option>
                                            <option value="2">Two</option>
                                            <option value="3">Three</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- </div> -->
                    </li>

                    <!-- <div class="collapse  d-block" id="collapseExample">
                    </div> -->


                    <!-- 辦活動============================================================= -->
                    <li class="nav-item fs-5 ms-auto my-auto">
                        <a class="nav-link active h-100 " aria-current="page" href="#!">辦活動
                        </a>
                    </li>
                    <!-- 其他主頁  ========================================================== -->
                    <li class="nav-item fs-5 dropdown my-auto">
                        <a class="nav-link dropdown-toggle navalable" id="navbarDropdown" href="#" role="button"
                            data-bs-toggle="dropdown" aria-expanded="false">其他主頁
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <li><a class="dropdown-item" href="#!">首頁</a></li>
                            <li>
                                <hr class="dropdown-divider" />
                            </li>
                            <li><a class="dropdown-item" href="#!">商城</a></li>
                            <li><a class="dropdown-item" href="#!">論壇</a></li>
                            <li><a class="dropdown-item" href="#!">活動</a></li>
                        </ul>
                    </li>
                    <!-- 鈴鐺============================================================= -->
                    <!-- 還有一顆填滿的bi-bell-fill -->
                    <!-- 操控.n-dot來控制有無紅點 -->
                    <li class="nav-item dropdown my-auto">
                        <div class="n-dot"></div>
                        <svg width="36" height="36" fill="currentColor"
                            class="bi bi-bell dropdown-toggle dropdown-toggle" id="navbarDropdown" role="button"
                            data-bs-toggle="dropdown" viewBox="0 0 16 16">
                            <path
                                d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zM8 1.918l-.797.161A4.002 4.002 0 0 0 4 6c0 .628-.134 2.197-.459 3.742-.16.767-.376 1.566-.663 2.258h10.244c-.287-.692-.502-1.49-.663-2.258C12.134 8.197 12 6.628 12 6a4.002 4.002 0 0 0-3.203-3.92L8 1.917zM14.22 12c.223.447.481.801.78 1H1c.299-.199.557-.553.78-1C2.68 10.2 3 6.88 3 6c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0A5.002 5.002 0 0 1 13 6c0 .88.32 4.2 1.22 6z" />
                        </svg>
                        <ul class="dropdown-menu dropdown-menu-lg-end" aria-labelledby="navbarDropdown">
                            <!-- 一條通知====================================================== -->

                            <div class="list-group">
                                <a href="#" class="list-group-item list-group-item-action" aria-current="true"
                                    style="height: 96px; width:600px;">
                                    <div class="row h-100">
                                        <div class="col-2 h-100">
                                            <img src="https://picsum.photos/150/200/?random=10"
                                                class="rounded-start h-100 w-100" alt="" style="object-fit:cover">
                                        </div>
                                        <div class="col-10">
                                            <div class="d-flex w-100 justify-content-between">
                                                <h5 class="mb-1">List group item heading</h5>
                                                <small>3 days ago</small>
                                            </div>
                                            <p class="mb-1">Some placeholder content in a paragraph.</p>
                                            <small>And some small print.</small>
                                        </div>
                                    </div>
                                </a>
                            </div>
                            <div class="list-group">
                                <a href="#" class="list-group-item list-group-item-action" aria-current="true"
                                    style="height: 96px; width:600px;">
                                    <div class="row h-100">
                                        <div class="col-2 h-100">
                                            <img src="https://picsum.photos/150/200/?random=10"
                                                class="rounded-start h-100 w-100" alt="" style="object-fit:cover">
                                        </div>
                                        <div class="col-10">
                                            <div class="d-flex w-100 justify-content-between">
                                                <h5 class="mb-1">List group item heading</h5>
                                                <small>3 days ago</small>
                                            </div>
                                            <p class="mb-1">Some placeholder content in a paragraph.</p>
                                            <small>And some small print.</small>
                                        </div>
                                    </div>
                                </a>
                            </div>
                        </ul>
                    </li>

                    <!-- 會員頭像========================================================= -->
                    <li class="nav-item dropdown mx-2 my-auto">
                        <img src="https://picsum.photos/300/200/?random=10"
                            class="nav-link dropdown-toggle overflow-hidden rounded-circle p-0" id="navbarDropdown"
                            href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false" width="36"
                            height="36">

                        <ul class="dropdown-menu dropdown-menu-lg-end" aria-labelledby="navbarDropdown">

                            <li>
                                <img class="dropdown-item overflow-hidden p-2 rounded-circle"
                                    src="https://picsum.photos/200/200/?random=10" width="150" height="150">
                            </li>
                            <li>
                                <span class="dropdown-item-text justify-content-center d-flex fs-5">名字</span>
                            </li>
                            <li>
                                <hr class="dropdown-divider" />
                            </li>
                            <li>
                                <a class="dropdown-item" href="#!">查看個人資料</a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="#!">聊天列表</a>
                            </li>
                        </ul>
                    </li>
                </ul>
                <!-- 購物車的按鈕============================================================= -->
                <form class="d-flex">
                    <button class="btn btn-outline-dark d-flex text-nowrap" type="submit">
                        <!-- 這個車車改class為bi-cart的話 就會變成空車 -->
                        <i class="bi-cart-fill me-1"></i>
                        購物車
                        <span class="badge bg-dark text-white ms-1 rounded-pill my-auto">0</span>
                    </button>
                </form>
            </div>
        </div>
    </nav>
    <!-- 導覽列結束=================================================================================== -->

    <!-- 這裡大概是放廣告 -->
    <!-- Header====================================================================================== -->
    <!-- <header>
        <div class="container-fluid p-0">
            <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-indicators">
                    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0"
                        class="active" aria-current="true" aria-label="Slide 1"></button>
                    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1"
                        aria-label="Slide 2"></button>
                    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2"
                        aria-label="Slide 3"></button>
                </div>
                <div class="carousel-inner">
                    <div class="carousel-item active w-100 object-fit-cover">
                        <img src="https://picsum.photos/1920/300/?random=10" class="d-block" alt="...">
                    </div>
                    <div class="carousel-item w-100 object-fit-cover">
                        <img src="https://picsum.photos/1920/300/?random=11" class="d-block" alt="...">
                    </div>
                    <div class="carousel-item w-100 object-fit-cover">
                        <img src="https://picsum.photos/1920/300/?random=12" class="d-block" alt="...">
                    </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators"
                    data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators"
                    data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        </div>
    </header> -->
    <!-- Header====================================================================================== -->

    <!-- main-content -->
    <div class="container main-content">
        <!-- 請在這裡作業 -->
        <div class="row">
            <div class="col-12">

                <div class="container custom-container  px-4 px-lg-5 mt-5">
                    <!-- ===============form================== -->
                    <!-- <div class="row gx-4 gx-lg-5 row-cols-2 row-cols-md-3 row-cols-xl-4 justify-content-center"> -->
                    <!-- <div class="row gx-4 gx-lg-5 row-cols-12 justify-content-center"> -->

                    <div class="col -12 row ">
                        <div class="row col-2"></div>

                        <div class="col-8 formpad " style="background-color: #E9E9E9; padding-top: 10px;">

                            <!-- ================================================form -----submit ================================================== -->
                            <!-- <form action="aaa.html" method="get" class="row g-3 needs-validation" novalidate> -->
                            <!-- <form action="http://localhost:8081/THA101G1/EventAddServlet" method="post"
                                enctype="multipart/form-data" class="row g-3 needs-validation" novalidate> -->

                            <!-- <form action="http://localhost:8080/springmvc-exercise/event/create" method="post"
                                enctype="multipart/form-data" class="row g-3 needs-validation" novalidate> -->

                            <!-- <form action="" method="post" enctype="multipart/form-data" class="row g-3 needs-validation"
                                novalidate> -->
                            <!-- <form class="row g-3 needs-validation" novalidate> -->

                            <form id="myForm" enctype="multipart/form-data" class="row g-3 needs-validation" novalidate>

                                <br>
                                <h1>創辦活動表單</h1>
                                <hr>
                                <!-- ======================================================image upload ====ccccc============================================================================  -->
                                <!-- image upload ====ccccc===================  -->
                                <div class="row justify-content-center">
                                    <div class="row col-1"></div>
                                    <div class="col-md-10  text-center">
                                        <div class="card mt-5">
                                            <div class="card-body">
                                                <h5 class="card-title">設定活動封面</h5>
                                                <hr>

                                                <div class="form-group">
                                                    <label for="photo-dropzone forDhotoDrop">點擊下方或將圖片拖放至下方處</label>
                                                    <input type="file" class="form-control-file" name="photo"
                                                        id="photo-dropzone" aria-describedby="fileHelp" accept="image/*"
                                                        required>
                                                    <div class="invalid-feedback">
                                                        Please choose a username.
                                                    </div>
                                                    <br>
                                                    <small id="fileHelp" class="form-text text-muted">支援 JPG, JPEG, PNG
                                                        檔案格式</small>
                                                </div>
                                                <div class="form-group">
                                                    <!-- <label for="preview-dropzone forDhotoDrop">或將圖片拖放至此處</label> -->
                                                    <!-- ===zzzz===== -->
                                                    <div id="previewBox">
                                                        <span class="text">選擇圖片</span>
                                                        <!-- 
                                                <img id="preview" src="#" alt="圖片預覽"
                                                    style="max-width: 100%; max-height: 200px;"> -->

                                                    </div>
                                                    <!-- ======== -->
                                                    <!-- <input type="file" class="form-control-file d-none" id="preview-dropzone"
                                            accept="image/*"> -->
                                                </div> <br>
                                                <button type="button" class="btn btn-danger" id="delete-btn">刪除</button>

                                            </div>
                                        </div>
                                    </div>

                                    <div class="row col-1"></div>
                                </div>

                                <!-- ======================================================image upload ====ccccc============================================================================  -->

                                <!-- First row -->
                                <div class="row">
                                    <div class="col-sm-12"></div>
                                    <label for="event_name" class="form-label">聚會名稱</label>
                                    <input type="text" id="event_name" name="event_name" placeholder="請輸入聚會名稱..."
                                        class="form-control" value="111" required>
                                    <div class="valid-feedback">
                                        Looks good!
                                    </div>
                                    <div class="invalid-feedback">
                                        Please choose a username.
                                    </div>
                                </div>
                                <hr>
                                <br>
                                <!-- Second row -->
                                <div class="row">

                                    <div class="col-sm-4">
                                        <label for="" class="form-label">聚會類型</label>
                                        <select class="form-select" id="categoryId" name="categoryId"
                                            aria-label="Default select example" required>
                                            <option selected disabled value="">請選擇..</option>
                                            <option value="1">One</option>
                                            <option value="2">Two</option>
                                            <option value="3">Three</option>
                                        </select>
                                        <div class="invalid-feedback">
                                            Please choose a username.
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <label for="" class="form-label">所在城市</label>
                                        <select class="form-select" id="city" name="city"
                                            aria-label="Default select example" required>
                                            <option selected disabled value="">請選擇..</option>
                                            <option value="1">One</option>
                                            <option value="2">Two</option>
                                            <option value="3">Three</option>
                                        </select>
                                        <div class="invalid-feedback">
                                            Please choose a username.
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <label for="" class="form-label">所在地區</label>
                                        <select class="form-select" id="district" name="district"
                                            aria-label="Default select example" required>
                                            <option selected disabled value="">請選擇..</option>
                                            <option value="1">One</option>
                                            <option value="2">Two</option>
                                            <option value="3">Three</option>
                                        </select>
                                        <div class="invalid-feedback">
                                            Please choose a username.
                                        </div>
                                    </div>


                                </div>

                                <br>
                                <!-- Third row -->
                                <div class="row">
                                    <div class="col-sm-8">
                                        <label class="form-label">場地名稱</label>
                                        <input type="text" id="location" name="location" placeholder="請輸入聚會場地名稱..."
                                            class="form-control" value="111" required>
                                        <div class="invalid-feedback">
                                            Please choose a username.
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <label class="form-label">預計花費</label>
                                        <input type="number" id="price" name="price" min="0" placeholder="預計花費"
                                            class="form-control" value="111" required>
                                        <div class="invalid-feedback">
                                            Please choose a username.
                                        </div>

                                    </div>

                                </div>

                                <hr>
                                <br>
                                <!-- Forth row -->
                                <div class="row">
                                    <div class="col-sm-12"></div>
                                    <label class="form-label">活動地址</label>
                                    <input type="text" name="address" placeholder="活動地址..." class="form-control"
                                        id="address" value="111" required>
                                    <div class="invalid-feedback">
                                        Please choose a username.
                                    </div>
                                </div>

                                <br>
                                <!-- Fith row -->
                                <div class="row">
                                    <div class="col-sm-5">
                                        <label class="form-label">活動日期</label>
                                        <input type="date" id="eventDate" name="eventDate" placeholder="活動日期..."
                                            class="form-control" value="2023-05-07" required>
                                        <div class="invalid-feedback">
                                            Please choose a username.
                                        </div>

                                    </div>
                                    <div class="col-sm-5">
                                        <label class="form-label">活動開始時間</label>
                                        <input type="time" id="startTime" name="startTime" placeholder="活動開始時間..."
                                            class="form-control" value="22:10" required>
                                        <div class="invalid-feedback">
                                            Please choose a username.
                                        </div>

                                    </div>
                                    <!-- <div class="col-sm-4">


                        </div> -->


                                </div>

                                <br>
                                <!--  row Six -->
                                <div class="row">
                                    <div class="col-sm-5">
                                        <label class="form-label">活動日期</label>
                                        <input type="date" id="lastVerifyDate" name="lastVerifyDate"
                                            placeholder="活動日期..." class="form-control" value="2023-05-07" required>
                                        <div class="invalid-feedback">
                                            Please choose a username.
                                        </div>
                                    </div>
                                    <div class="col-sm-5">
                                        <label class="form-label">活動開始時間</label>
                                        <input type="time" id="lastVerifyTime" name="lastVerifyTime"
                                            placeholder="活動開始時間..." class="form-control" value="22:10" required>
                                        <div class="invalid-feedback">
                                            Please choose a username.
                                        </div>
                                    </div>

                                </div>

                                <br>
                                <!-- row  seven ===================================== Javascript ==============================================-->
                                <div class="row">
                                    <div class="col-sm-5">
                                        <label class="form-label">聚會人數</label>
                                        <input type="number" id="maxAttendees" name="maxAttendees" placeholder="聚會人數"
                                            min="1" max="100" class="form-control" value="100" required>
                                        <div class="invalid-feedback">
                                            Please choose a username.
                                        </div>
                                    </div>

                                    <div class="col-sm-5">
                                        <label class="form-label">分錢方式</label>
                                        <select class="form-select" id="paymentMethod" name="paymentMethod"
                                            aria-label="Default select example" required>
                                            <!-- <option selected>打code</option> -->
                                            <option selected disabled value="">請選擇..</option>
                                            <option value="1">我出錢</option>
                                            <option value="2">各付各的</option>
                                            <option value="3">平均分攤</option>
                                            <option value="4">我請客,你出錢</option>
                                        </select>
                                        <div class="invalid-feedback">
                                            Please choose a username.
                                        </div>
                                    </div>
                                </div>


                                <br>
                                <!-- row nine -->
                                <div class="row">
                                    <div class="col-sm-12">
                                        <!-- <label for="">聚會描述和備註</label>
                            <textarea id="w3review" name="w3review" rows="4" cols="50">At</textarea> -->
                                        <!-- <input type="" name="" id=""> -->
                                        <!-- </button> -->
                                        <div class="form-group">
                                            <label for="description">聚會描述和備註</label>
                                            <textarea class="form-control" name="description" id="description" rows="3"
                                                required></textarea>
                                            <div class="invalid-feedback">
                                                Please choose a username.
                                            </div>
                                        </div>
                                    </div>
                                </div>


                                <br>
                                <hr>
                                <!-- row eight -->
                                <div class="row">

                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="gridCheck" required>
                                        <label class="form-check-label" for="gridCheck">
                                            我已閱讀並同意免責聲明
                                        </label>
                                    </div>

                                </div>
                                <hr>
                                <br>
                                <!-- row nine -->
                                <div class="row">
                                    <div class="col-sm-12">
                                        <button type="submit" id="btn_submit" class="btn btn-primary">
                                            創辦活動
                                        </button>
                                    </div>
                                </div>
                                <!-- <div class="row justify-content-center">
                        <div class="col-sm-8 ">

                            <div class="d-grid gap-2 ">
                                <button class="btn btn-primary ylbtn" type="button">預覽</button>

                            </div>
                        </div>
                    </div> -->
                                <!-- <br> -->
                        </div>
                        </form>
                        <div class="col-2"></div>
                    </div>

                    <!-- </div> -->
                </div>
                <!-- Product actions-->
                <!-- <div class="card-footer p-4 pt-0 border-top-0 bg-transparent">
            
        </div> -->
            </div>




            <!-- <p>team1</p> -->



        </div>
    </div>
    </div>



    <!-- 以下footer================================================================================= -->
    <footer class="footer py-5 footer-color bottom-0 ">
        <div class="container">
            <div class="row">
                <div class="col-3">
                    <p class="m-0 text-white h3">客服中心</p>
                    <p class="m-0 text-white">Email: Ixercise@gmail.com</p>
                    <p class="m-0 text-white">Tel: 02-2712-0589</p>
                </div>
                <div class="col-3">
                    <p class="m-0 text-white h3">快速使用</p>
                    <a class="d-block" href="">註冊會員</a>
                    <a class="d-block" href="">舉辦活動</a>
                    <a class="d-block" href="">常見問題</a>
                </div>
                <div class="col-3">
                    <p class="m-0 text-white h3">主要頁面</p>
                    <a class="d-block" href="">首頁</a>
                    <a class="d-block" href="">活動</a>
                    <a class="d-block" href="">論壇</a>
                    <a class="d-block" href="">商城</a>
                </div>
                <div class="col-3"></div>
            </div>
        </div>
    </footer>
    <!-- footer結束================================================================================= -->
    <!-- 引入所需函式庫 -->
    <script src="../lib/js/bootstrap.bundle.min.js"></script>
    <script src="../lib/js/popper.min.js"></script>
    <script src="../lib/vendors/jquery/jquery-3.6.4.min.js"></script>
    <!-- <script src="//code.jquery.com/jquery-1.11.1.min.js"></script> -->
    <!-- ================================================================= -->

    <script>
        $("#searchbar").on("click", function () {
            $("#searchcard").toggleClass("d-none");
        });

        //==================================== image upload js ======================zzzz=================================================================
        $(document).ready(function () {
            // let preview_el = document.querySelector("#previewBox");
            $("#previewBox").on("click", function () {

                console.log($(this).attr("restrictChange"));
                if ($(this).attr("restrictChange") == undefined) {
                    $("#photo-dropzone").click();
                } else {
                    return;
                }
            });

            // Preview selected image
            $("#photo-dropzone, #preview-dropzone").change(function () {
                readURL(this);
            });

            // Delete selected image
            $("#delete-btn").click(function () {
                $("#photo-dropzone").val("");
                // $("#preview-dropzone").val("");
                $("#previewBox").html('<span class="text">選擇圖片</span>');
                $("#previewBox").removeAttr("restrictChange");
            });

            // Preview image function =================zzzz=================
            function readURL(input) {

                // if (this.files.length > 0) {  多張
                // ===============================================================
                // if (input.files && input.files[0]) {  單張
                //     preview_img(input.files);
                // }
                // ========================================================================
                if (input.files && input.files[0]) {
                    if (input.files[0].type.match('image.*')) {
                        $("#previewBox").attr("restrictChange", true);
                        var reader = new FileReader();
                        reader.onload = function () {
                            $("#previewBox").html('<img src="' + reader.result + '" class="preview_img">');
                        };
                        reader.readAsDataURL(input.files[0]);
                    }
                }
            }

            // ==================================

            // Allow preview area to be a drop zone
            var previewArea = document.getElementById('previewBox');
            previewArea.addEventListener('dragenter', function (e) {
                e.stopPropagation();
                e.preventDefault();
                previewArea.classList.add('dragover');
            });

            previewArea.addEventListener('dragleave', function (e) {
                e.stopPropagation();
                e.preventDefault();
                previewArea.classList.remove('dragover');
            });

            previewArea.addEventListener('dragover', function (e) {
                e.stopPropagation();
                e.preventDefault();
            });
            // ==add=

            //===================drop== zzzz=================
            previewArea.addEventListener('drop', function (e) {
                e.stopPropagation();
                e.preventDefault();
                previewArea.classList.remove('dragover');
                $(this).attr("restrictChange", true);
                // ======================================================
                var files = e.dataTransfer.files;
                // console.log(files); //------------------------------<>>>>>>>>>>>>>>>>>>>>>>>>
                var file = files[0];
                if (file.type.match('image.*')) {
                    var reader = new FileReader();

                    reader.onload = function () {
                        // $('#preview').attr('src', reader.result);
                        $("#previewBox").html('<img src="' + reader.result + '" class="preview_img">');
                        // $('#photo-dropzone').val("aaaa");
                        // $('#photo-dropzone').val(file.name);
                        $('#photo-dropzone').prop('files', files);
                        sessionStorage.setItem("fileInput", files);
                        // $('#preview-dropzone').val("");
                    };

                    reader.readAsDataURL(file);
                }
            });


            // ====================drop image - preview =====

            // ========================(file) one single picture
            var preview_img = function (file) {
                if (file.type.match('image.*')) {
                    var reader = new FileReader();

                    reader.onload = function () {
                        // $('#preview').attr('src', reader.result);
                        $("#previewBox").html('<img src="' + reader.result + '" class="preview_img">');
                        // $('#photo-dropzone').val("aaaa");
                        // $('#photo-dropzone').val(file.name);
                        $('#photo-dropzone').prop('files', files);;
                        // $('#preview-dropzone').val("");
                    };

                    reader.readAsDataURL(file);
                }
            };
            //==================================== image upload js -gpt =======================================================================================
            //==================================== google map api =======================================================================================

            //==================================== form-input validate &&  session storage =======================================================================================
            // Example starter JavaScript for disabling form submissions if there are invalid fields
            (function () {
                'use strict'

                // Fetch all the forms we want to apply custom Bootstrap validation styles to
                var forms = document.querySelectorAll('.needs-validation')

                // Loop over them and prevent submission
                Array.prototype.slice.call(forms)
                    .forEach(function (form) {
                        form.addEventListener('submit', function (event) {

                            if (!form.checkValidity()) {
                                event.preventDefault()
                                event.stopPropagation()
                                console.log("!form.checkValidity()");
                            } else {
                                console.log("hiii");
                                // e.preventDefault();

                                var send_data = {};

                                send_data.photo_dropzone = $("#photo-dropzone").val();
                                send_data.event_name = $("#event_name").val();
                                send_data.categoryId = $("#categoryId").val();
                                send_data.city = $("#city").val();
                                send_data.district = $("#district").val();
                                send_data.location = $("#location").val();
                                send_data.address = $("#address").val();
                                send_data.price = $("#price").val();
                                send_data.eventDate = $("#eventDate").val();
                                send_data.startTime = $("#startTime").val();
                                send_data.lastVerifyDate = $("#lastVerifyDate").val();
                                send_data.lastVerifyTime = $("#lastVerifyTime").val();
                                send_data.maxAttendees = $("#maxAttendees").val();
                                send_data.paymentMethod = $("#paymentMethod").val();
                                send_data.description = $("#description").val();
                                // =======================================================photo filelist session storage test=================================
                                // send_data.fileList = $('#photo-dropzone').prop('files');
                                // console.log("ooooo");
                                // console.log($('#photo-dropzone').prop('files'));

                                // function handleSubmit() {
                                // const imgPath = document.querySelector('input[type=file]').files[0];
                                // const reader = new FileReader();
                                // reader.addEventListener("load", function () {
                                //     localStorage.setItem("PHOTO", reader.result);
                                // }, false)
                                // if (imgPath) {
                                //     reader.readAsDataURL(imgPath);
                                // }
                                // }
                                // =======================================================photo filelist session storage test=================================

                                console.log(send_data);

                                var img_base64_el = document.querySelector(".preview_img");
                                if (img_base64_el) {
                                    send_data.img_base64 = img_base64_el.getAttribute("src");
                                }

                                // 把資料存到session 裡面-先不存到資料庫- 給預覽頁面座使用
                                sessionStorage.setItem("form_data", JSON.stringify(send_data));

                                // ============================== ajax - insert Event =========

                                // JavaScript code using jQuery library
                                // ======================test=====================================
                                // $(document).ready(function () {
                                //     $('#myForm').submit(function (event) {

                                event.preventDefault(); // Prevent default form submission

                                // Create FormData object and append form data
                                // var formData = new FormData(this);
                                // formData.append('action', 'save'); // Add additional data if needed

                                var form = $('#myForm')[0];
                                var formData = new FormData(form);
                                // Send Ajax request
                                console.log(formData);   // <<<<<<<<<<<<<<<<<<<<<<<<<<< test >>>>>>>>>>>>>>>>>>>>

                                $.ajax({
                                    url: 'http://localhost:8081/THA101G1/event/photo', // Replace with the actual servlet URL
                                    // url: "http://localhost:8080/springmvc-exercise/event/create",
                                    type: 'POST',
                                    data: formData,
                                    processData: false,
                                    contentType: false,
                                    dataType: 'json',
                                    success: function (response) {
                                        // Handle success response here
                                        console.log(response);
                                    },
                                    error: function (xhr, status, error) {
                                        // Handle error here
                                        console.log(xhr.responseText);
                                    }
                                });
                                // ======================test=====================================
                                //         });
                                // });

                                // =======================================================browser-sessionstorage-share-between-tabs=================================
                                // https://stackoverflow.com/questions/20325763/browser-sessionstorage-share-between-tabs/20325870#20325870
                                // transfers sessionStorage from one tab to another
                                // var sessionStorage_transfer = function (event) {
                                //     if (!event) { event = window.event; } // ie suq
                                //     if (!event.newValue) return;          // do nothing if no value to work with
                                //     if (event.key == 'getSessionStorage') {
                                //         // another tab asked for the sessionStorage -> send it
                                //         localStorage.setItem('sessionStorage', JSON.stringify(sessionStorage));
                                //         // the other tab should now have it, so we're done with it.
                                //         localStorage.removeItem('sessionStorage'); // <- could do short timeout as well.
                                //     } else if (event.key == 'sessionStorage' && !sessionStorage.length) {
                                //         // another tab sent data <- get it
                                //         var data = JSON.parse(event.newValue);
                                //         for (var key in data) {
                                //             sessionStorage.setItem(key, data[key]);
                                //         }
                                //     }
                                // };

                                // // listen for changes to localStorage
                                // if (window.addEventListener) {
                                //     window.addEventListener("storage", sessionStorage_transfer, false);
                                // } else {
                                //     window.attachEvent("onstorage", sessionStorage_transfer);
                                // };


                                // // Ask other tabs for session storage (this is ONLY to trigger event)
                                // if (!sessionStorage.length) {
                                //     localStorage.setItem('getSessionStorage', 'foobar');
                                //     localStorage.removeItem('getSessionStorage', 'foobar');
                                // };
                                // =======================================================browser-sessionstorage-share-between-tabs=================================
                            };

                            form.classList.add('was-validated')

                        }, false)
                    })


            })()
            // =========================== 資料送出 ========================= //

            const data = sessionStorage.getItem('form_data');
            const sessionFormData = JSON.parse(data);   //sessionFormData

            // ============ photo -> are not processing due to troublesome
            // $("#previewBox").html('<img src="' + sessionFormData.img_base64 + '" class="preview_img">');     // imgElement.src = 'data:image/png;base64,' + base64Data;
            // $("#photo-dropzone").val(sessionFormData.photo_dropzone);
            // $('#photo-dropzone').prop('files', sessionFormData.photo_dropzone);;

            // $("#event_name").val(sessionFormData.event_name);
            // $("#categoryId").val(sessionFormData.categoryId);
            // $("#city").val(sessionFormData.city);
            // $("#district").val(sessionFormData.district);
            // $("#location").val(sessionFormData.location);
            // $("#address").val(sessionFormData.address);
            // $("#price").val(sessionFormData.price);
            // $("#eventDate").val(sessionFormData.eventDate);
            // $("#startTime").val(sessionFormData.startTime);
            // $("#lastVerifyDate").val(sessionFormData.lastVerifyDate);
            // $("#lastVerifyTime").val(sessionFormData.lastVerifyTime);
            // $("#maxAttendees").val(sessionFormData.maxAttendees);
            // $("#paymentMethod").val(sessionFormData.paymentMethod);
            // $("#description").val(sessionFormData.description);





        }); //Load ====


    </script>
</body>

</html>