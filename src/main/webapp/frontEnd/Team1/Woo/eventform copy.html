<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <META http-equiv="Content-Type" content="text/html; charset=utf-8"> <!-- 主空權 -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>創辦活動表單</title>
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
    <!-- Bootstrap icons-->
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" /> -->
    <!-- Core theme CSS (includes Bootstrap)-->
    <!-- <link href="css/styles.css" rel="stylesheet" /> -->

    <!-- 引入bootstarp跟共用css內容========================================= -->
    <link href="../lib/css/styles.css" rel="stylesheet" />
    <link href="../lib/font/bootstrap-icons.min.css" rel="stylesheet" />


    <script src="//code.jquery.com/jquery-1.11.1.min.js"></script>

    <style>
        .test {
            /* color: #e9e90e; */
            /* font-size: 30px; */
            /* padding: 0; */
            box-sizing: border-box;
            border: solid #0a58ca;
        }

        .test2 {
            color: white;
        }

        .col-8 {
            display: auto;
        }

        input {
            display: flex;
            width: 500px;
        }

        /* h1 {
            display: inline-block;
        } */

        .testbox {
            border: solid #cff900;
        }

        .custom-container {
            max-width: auto;
            /* change this to your desired width */
        }

        /* focus search field dropdown list */
        .dropdown:focus-within .dropdown-menu {
            display: block;
        }

        .vertical {
            vertical-align: top;
        }

        /* =================================================  form 表單================================================ */
        /* ====================================image upload css =====================*/
        /* #preview {
            border: 2px dashed #ccc;
            padding: 10px;
            margin-bottom: 10px;
            cursor: pointer;

        } */

        /* 讓上傳照片的按鈕消失 */
        #photo-dropzone,
        .forDhotoDrop {
            display: none;
        }

        #previewBox.dragover {
            /* border-color: #aaa; */
            border: 1px dashed lightblue;
            box-shadow: 3px 3px 5px lightblue inset, -3px -3px 5px lightblue inset;
        }


        /* teacher's css */
        #previewBox {
            border: 1px solid lightgray;
            /* display: inline-block; */
            /* width: 100%; */
            min-height: 150px;
            position: relative;
            cursor: pointer;
        }


        #previewBox span.text {
            position: absolute;
            display: inline-block;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            z-index: 1;
            color: lightgray;
        }

        #previewBox img.preview_img {
            width: 100%;
        }

        /* =============================== */
        textarea {
            max-height: 200px;
        }

        /* yellow preview button */
        .ylbtn {
            color: #B6B6B6;
            /* background-color: #ffc107; */
            background-color: #FFF366;

            border: 1px solid #A7A7A7;
            box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);
            border-radius: 30px;

        }

        /* form 表單 padding */
        .formpad {
            padding-right: calc(var(--bs-gutter-x) * 1);
            padding-left: calc(var(--bs-gutter-x) * 1);
        }

        /* form -image upload css  */
        #image-preview img {
            max-width: 100%;
            height: auto;
        }


        /* =================================================  form 表單================================================ */
    </style>
</head>

<body>
    <!-- Navigation-->
    <nav class="navbar fixed-top navbar-expand-lg navbar-light bg-light test">
        <div class="container  px-4 px-lg-5 testbox">
            <a class="navbar-brand test" href="#">
                <img src="/docs/5.3/assets/brand/bootstrap-logo.svg" alt="Bootstrap" width="30" height="24">
            </a>

            <!-- <a class="navbar-brand" href="#!">Start Bootstrap</a> -->

            <!-- <form class="d-flex" role="search">
                <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                <button class="btn btn-outline-success" type="submit">Search</button>
            </form> -->

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>

            <div class="collapse navbar-collapse test" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0 ms-lg-4">


                    </li>

                    <li class="nav-item border">
                        <a class="nav-link active" aria-current="page" href="#!">Home</a>
                    </li>

                    <li class="nav-item"><a class="nav-link" href="#!">About</a>

                    </li>

                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" id="navbarDropdown" href="#" role="button"
                            data-bs-toggle="dropdown" aria-expanded="false">Shop</a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <li><a class="dropdown-item" href="#!">All Products</a></li>
                            <li>
                                <hr class="dropdown-divider" />
                            </li>
                            <li><a class="dropdown-item" href="#!">Popular Items</a></li>
                            <li><a class="dropdown-item" href="#!">New Arrivals</a></li>
                        </ul>
                    </li>
                </ul>
                <div class="dropdown test">
                    <form class="d-flex test" role="search">
                        <input class="form-control  dropdown-toggle test" type="search" placeholder="Search"
                            aria-label="Search" data-toggle="dropdown" aria-expanded="false">
                        <button class="btn btn-outline-success" type="submit">Search</button>

                    </form>
                </div>
            </div>
    </nav>
    <!-- Header-->
    <!-- <header class="bg-dark py-5">
        <div class="container custom-container  px-4 px-lg-5 my-5">
            <div class="text-center text-white">
                <h1 class="display-4 fw-bolder">Shop in style</h1>
                <p class="lead fw-normal text-white-50 mb-0">With this shop hompeage template</p>
            </div>
        </div>
    </header> -->
    <!-- Section -->
    <br>
    <section class="py-5">
        <div class="container custom-container  px-4 px-lg-5 mt-5">
            <!-- ===============form================== -->
            <!-- <div class="row gx-4 gx-lg-5 row-cols-2 row-cols-md-3 row-cols-xl-4 justify-content-center"> -->
            <!-- <div class="row gx-4 gx-lg-5 row-cols-12 justify-content-center"> -->

            <div class="col -12 row ">
                <div class="row col-2"></div>

                <div class="col-8 formpad " style="background-color: #E9E9E9; padding-top: 10px;">

                    <!-- ================================================form -----submit ================================================== -->
                    <!-- <form action="aaa.html" method="get" class="row g-3 needs-validation" novalidate> -->
                    <form action="http://localhost:8081/THA101G1/EventAddServlet" method="post"
                        enctype="multipart/form-data" class="row g-3 needs-validation" novalidate>
                        <!-- <form action="#" method="post" enctype="multipart/form-data" class="row g-3 needs-validation"
                        novalidate> -->


                        <br>
                        <h1>創辦活動表單</h1>
                        <hr>
                        <!-- ======================================================image upload ====ccccc============================================================================  -->
                        <!-- ======================================================image upload ====ccccc============================================================================  -->
                        <!-- ======================================================image upload ====ccccc============================================================================  -->
                        <!-- image upload ====ccccc===================  -->
                        <div class="row justify-content-center">
                            <div class="row col-1"></div>
                            <div class="col-md-10  text-center">
                                <div class="card mt-5">
                                    <div class="card-body">
                                        <h5 class="card-title">設定活動封面</h5>
                                        <hr>

                                        <div class="form-group">
                                            <label for="photo-dropzone forDhotoDrop">點擊下方或將圖片拖放至下方處</label>
                                            <input type="file" class="form-control-file" name="photo"
                                                id="photo-dropzone" aria-describedby="fileHelp" accept="image/*"
                                                required>
                                            <div class="invalid-feedback">
                                                Please choose a username.
                                            </div>
                                            <br>
                                            <small id="fileHelp" class="form-text text-muted">支援 JPG, JPEG, PNG
                                                檔案格式</small>
                                        </div>
                                        <div class="form-group">
                                            <!-- <label for="preview-dropzone forDhotoDrop">或將圖片拖放至此處</label> -->
                                            <!-- ===zzzz===== -->
                                            <div id="previewBox">
                                                <span class="text">選擇圖片</span>
                                                <!-- 
                                                    <img id="preview" src="#" alt="圖片預覽"
                                                        style="max-width: 100%; max-height: 200px;"> -->

                                            </div>
                                            <!-- ======== -->
                                            <!-- <input type="file" class="form-control-file d-none" id="preview-dropzone"
                                                accept="image/*"> -->
                                        </div> <br>
                                        <button type="button" class="btn btn-danger" id="delete-btn">刪除</button>

                                    </div>
                                </div>
                            </div>

                            <div class="row col-1"></div>
                        </div>

                        <!-- ======================================================image upload ====ccccc============================================================================  -->

                        <!-- First row -->
                        <div class="row">
                            <div class="col-sm-12"></div>
                            <label for="event_name" class="form-label">聚會名稱</label>
                            <input type="text" id="event_name" name="event_name" placeholder="請輸入聚會名稱..."
                                class="form-control" value="111" required>
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                            <div class="invalid-feedback">
                                Please choose a username.
                            </div>
                        </div>
                        <hr>
                        <br>
                        <!-- Second row -->
                        <div class="row">

                            <div class="col-sm-4">
                                <label for="" class="form-label">聚會類型</label>
                                <select class="form-select" id="categoryId" name="categoryId"
                                    aria-label="Default select example" required>
                                    <option selected disabled value="">請選擇..</option>
                                    <option value="1">One</option>
                                    <option value="2">Two</option>
                                    <option value="3">Three</option>
                                </select>
                                <div class="invalid-feedback">
                                    Please choose a username.
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <label for="" class="form-label">所在城市</label>
                                <select class="form-select" id="city" name="city" aria-label="Default select example"
                                    required>
                                    <option selected disabled value="">請選擇..</option>
                                    <option value="1">One</option>
                                    <option value="2">Two</option>
                                    <option value="3">Three</option>
                                </select>
                                <div class="invalid-feedback">
                                    Please choose a username.
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <label for="" class="form-label">所在地區</label>
                                <select class="form-select" id="district" name="district"
                                    aria-label="Default select example" required>
                                    <option selected disabled value="">請選擇..</option>
                                    <option value="1">One</option>
                                    <option value="2">Two</option>
                                    <option value="3">Three</option>
                                </select>
                                <div class="invalid-feedback">
                                    Please choose a username.
                                </div>
                            </div>

                            <!-- <div class="col-sm-6">
                                <div class="form-floating">
                                    <input type="text" class="form-control" placeholder="aaa">
                                    <label  class="form-label">bbbb</label>
                                </div>

                            </div>
                            <div class="col-sm-6">
                                <div class="form-floating">
                                    <input type="text" class="form-control" placeholder="aaa">
                                    <label  class="form-label">bbbb</label>
                                </div>

                            </div> -->

                        </div>

                        <br>
                        <!-- Third row -->
                        <div class="row">
                            <div class="col-sm-8">
                                <label class="form-label">場地名稱</label>
                                <input type="text" id="location" name="location" placeholder="請輸入聚會場地名稱..."
                                    class="form-control" value="111" required>
                                <div class="invalid-feedback">
                                    Please choose a username.
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <label class="form-label">預計花費</label>
                                <input type="number" id="price" name="price" min="0" placeholder="預計花費"
                                    class="form-control" value="111" required>
                                <div class="invalid-feedback">
                                    Please choose a username.
                                </div>

                            </div>

                        </div>

                        <hr>
                        <br>
                        <!-- Forth row -->
                        <div class="row">
                            <div class="col-sm-12"></div>
                            <label class="form-label">活動地址</label>
                            <input type="text" name="address" placeholder="活動地址..." class="form-control" id="address"
                                value="111" required>
                            <div class="invalid-feedback">
                                Please choose a username.
                            </div>
                        </div>

                        <br>
                        <!-- Fith row -->
                        <div class="row">
                            <div class="col-sm-5">
                                <label class="form-label">活動日期</label>
                                <input type="date" id="eventDate" name="eventDate" placeholder="活動日期..."
                                    class="form-control" value="2023-05-07" required>
                                <div class="invalid-feedback">
                                    Please choose a username.
                                </div>

                            </div>
                            <div class="col-sm-5">
                                <label class="form-label">活動開始時間</label>
                                <input type="time" id="startTime" name="startTime" placeholder="活動開始時間..."
                                    class="form-control" value="22:10" required>
                                <div class="invalid-feedback">
                                    Please choose a username.
                                </div>

                            </div>
                            <!-- <div class="col-sm-4">


                            </div> -->


                        </div>

                        <br>
                        <!--  row Six -->
                        <div class="row">
                            <div class="col-sm-5">
                                <label class="form-label">活動日期</label>
                                <input type="date" id="lastVerifyDate" name="lastVerifyDate" placeholder="活動日期..."
                                    class="form-control" value="2023-05-07" required>
                                <div class="invalid-feedback">
                                    Please choose a username.
                                </div>
                            </div>
                            <div class="col-sm-5">
                                <label class="form-label">活動開始時間</label>
                                <input type="time" id="lastVerifyTime" name="lastVerifyTime" placeholder="活動開始時間..."
                                    class="form-control" value="22:10" required>
                                <div class="invalid-feedback">
                                    Please choose a username.
                                </div>
                            </div>

                        </div>

                        <br>
                        <!-- row  seven ===================================== Javascript ==============================================-->
                        <div class="row">

                            <!-- <div class="col-sm-5    col-lg-2">
                                <div class="input-group">
                                    <span class="input-group-btn">
                                        <button type="button" class="quantity-left-minus btn btn-danger btn-number"
                                            data-type="minus" data-field="">
                                            <span class="glyphicon glyphicon-minus"></span>
                                        </button>
                                    </span>
                                    <input type="text" id="quantity" name="quantity" class="form-control input-number"
                                        value="10" min="1" max="100">
                                    <span class="input-group-btn">
                                        <button type="button" class="quantity-right-plus btn btn-success btn-number"
                                            data-type="plus" data-field="">
                                            <span class="glyphicon glyphicon-plus"></span>
                                        </button>
                                    </span>
                                </div>
                            </div> -->
                            <div class="col-sm-5">
                                <label class="form-label">聚會人數</label>
                                <input type="number" id="maxAttendees" name="maxAttendees" placeholder="聚會人數" min="1"
                                    max="100" class="form-control" value="100" required>
                                <div class="invalid-feedback">
                                    Please choose a username.
                                </div>
                            </div>

                            <div class="col-sm-5">
                                <label class="form-label">分錢方式</label>
                                <select class="form-select" id="paymentMethod" name="paymentMethod"
                                    aria-label="Default select example" required>
                                    <!-- <option selected>打code</option> -->
                                    <option selected disabled value="">請選擇..</option>
                                    <option value="1">我出錢</option>
                                    <option value="2">各付各的</option>
                                    <option value="3">平均分攤</option>
                                    <option value="4">我請客,你出錢</option>
                                </select>
                                <div class="invalid-feedback">
                                    Please choose a username.
                                </div>
                            </div>
                        </div>


                        <br>
                        <!-- row nine -->
                        <div class="row">
                            <div class="col-sm-12">
                                <!-- <label for="">聚會描述和備註</label>
                                <textarea id="w3review" name="w3review" rows="4" cols="50">At</textarea> -->
                                <!-- <input type="" name="" id=""> -->
                                <!-- </button> -->
                                <div class="form-group">
                                    <label for="description">聚會描述和備註</label>
                                    <textarea class="form-control" name="description" id="description" rows="3"
                                        required></textarea>
                                    <div class="invalid-feedback">
                                        Please choose a username.
                                    </div>
                                </div>
                            </div>
                        </div>


                        <br>
                        <hr>
                        <!-- row eight -->
                        <div class="row">

                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="gridCheck" required>
                                <label class="form-check-label" for="gridCheck">
                                    我已閱讀並同意免責聲明
                                </label>
                            </div>

                        </div>
                        <hr>
                        <br>
                        <!-- row nine -->
                        <div class="row">
                            <div class="col-sm-12">
                                <button type="submit" id="btn_submit" class="btn btn-primary">
                                    創辦活動
                                </button>
                            </div>
                        </div>
                        <!-- <div class="row justify-content-center">
                            <div class="col-sm-8 ">

                                <div class="d-grid gap-2 ">
                                    <button class="btn btn-primary ylbtn" type="button">預覽</button>

                                </div>
                            </div>
                        </div> -->
                        <br>
                </div>
                </form>
                <div class="col-2"></div>
            </div>

            <!-- </div> -->
        </div>
        <!-- Product actions-->
        <!-- <div class="card-footer p-4 pt-0 border-top-0 bg-transparent">
                
            </div> -->
        </div>



    </section>
    <!-- Footer-->
    <footer class="py-5 bg-dark">
        <div class="container custom-container ">
            <p class="m-0 text-center text-white">Copyright &copy; Your Website 2023</p>
        </div>
    </footer>
    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Core theme JS-->
    <script src="js/scripts.js"></script>

    <script>
        $(function () {
            $('.form-control').focus(function () {
                $('.dropdown').addClass('show');
            }).blur(function () {
                $('.dropdown').removeClass('show');
            });
        });

        //=================image upload js ==============================
        // // 預覽圖像
        // function previewImage(input) {
        //     if (input.files && input.files[0]) {
        //         var reader = new FileReader();
        //         reader.onload = function (e) {
        //             $('#image-preview').html('<img src="' + e.target.result + '" class="img-fluid" alt="Image preview">');
        //         }
        //         reader.readAsDataURL(input.files[0]);
        //     }
        // }

        // // 刪除圖像
        // function deleteImage() {
        //     $('#image').val('');
        //     $('#image-preview').html('');
        // }

        // // 當選擇圖像時顯示預覽
        // $('#image').change(function () {
        //     previewImage(this);
        // });

        // // 當點擊刪除按鈕時刪除圖像
        // $('#delete-image').click(function () {
        //     deleteImage();
        // });



        //=================  ==============================
        // $(function () {
        //     // 當選擇圖片時，顯示預覽圖片
        //     $("#image").on("change", function () {
        //         var input = $(this)[0];
        //         if (input.files && input.files[0]) {
        //             var reader = new FileReader();
        //             reader.onload = function (e) {
        //                 $(".image-preview").html('<img src="' + e.target.result + '" class="img-thumbnail" width="200">');
        //                 $(".delete-image").prop("disabled", false);
        //             }
        //             reader.readAsDataURL(input.files[0]);
        //         }
        //     });

        //     // 當按下刪除按鈕時，移除預覽圖片並清空選擇的圖片
        //     $(".delete-image").on("click", function () {
        //         $("#image").val("");
        //         $(".image-preview").empty();
        //         $(this).prop("disabled", true);
        //     });
        // });

        //==================================== image upload js -gpt ======================zzzz=================================================================
        $(document).ready(function () {
            // let preview_el = document.querySelector("#previewBox");
            $("#previewBox").on("click", function () {

                console.log($(this).attr("restrictChange"));
                if ($(this).attr("restrictChange") == undefined) {
                    $("#photo-dropzone").click();
                } else {
                    return;
                }

            });

            // Preview selected image
            $("#photo-dropzone, #preview-dropzone").change(function () {
                readURL(this);
            });

            // Delete selected image
            $("#delete-btn").click(function () {
                $("#photo-dropzone").val("");
                // $("#preview-dropzone").val("");
                $("#previewBox").html('<span class="text">選擇圖片</span>');
                $("#previewBox").removeAttr("restrictChange");
            });

            // Preview image function =================zzzz=================
            function readURL(input) {
                $("#previewBox").attr("restrictChange", true);
                // if (input.files && input.files[0]) {
                //     var reader = new FileReader();
                //     reader.onload = function (e) {
                //         if ($(input).attr('id') === 'photo-dropzone') {
                //             $('#preview').attr('src', e.target.result);
                //         } else if ($(input).attr('id') === 'preview-dropzone') {
                //             $('#preview').attr('src', e.target.result);
                //             $('#photo-dropzone').val("");
                //         }
                //     }
                //     reader.readAsDataURL(input.files[0]);
                // }

                // if (this.files.length > 0) {  多張
                // ===============================================================
                // if (input.files && input.files[0]) {  單張
                //     preview_img(input.files);
                // }
                // ========================================================================

                // else {
                // console.log("bbb");
                // $("#previewBox").html('<span class="text">選擇圖片</span>');       //我不想 要沒選照片就把原選的刪掉
                // }
                // var files = input.files.dataTransfer.files;
                // var file = files[0];

                if (input.files && input.files[0]) {
                    // console.log(input.files);
                    // console.log(input.files.type);
                    // let file = input.files;
                    // console.log(file);
                    // console.log(input.files[0].type);

                    if (input.files[0].type.match('image.*')) {
                        var reader = new FileReader();

                        reader.onload = function () {
                            // $('#preview').attr('src', reader.result);
                            $("#previewBox").html('<img src="' + reader.result + '" class="preview_img">');
                            // $('#photo-dropzone').val("aaaa");
                            // $('#photo-dropzone').val(file.name);
                            // $('#photo-dropzone').prop('files', files);;
                            // $('#preview-dropzone').val("");
                        };

                        reader.readAsDataURL(input.files[0]);
                    }
                }

            }

            // ==================================

            // Allow preview area to be a drop zone
            var previewArea = document.getElementById('previewBox');
            previewArea.addEventListener('dragenter', function (e) {
                e.stopPropagation();
                e.preventDefault();
                previewArea.classList.add('dragover');
            });

            previewArea.addEventListener('dragleave', function (e) {
                e.stopPropagation();
                e.preventDefault();
                previewArea.classList.remove('dragover');
            });

            previewArea.addEventListener('dragover', function (e) {
                e.stopPropagation();
                e.preventDefault();
            });
            // ==add=

            //===================drop== zzzz=================
            previewArea.addEventListener('drop', function (e) {
                e.stopPropagation();
                e.preventDefault();
                previewArea.classList.remove('dragover');
                $(this).attr("restrictChange", true);
                // preview_img(e.dataTransfer.files[0]); //==added==//
                // preview_img(e); //==added==//

                // var files = e.dataTransfer.files;
                // var file = files[0];
                //
                // if (file.type.match('image.*')) {
                //     var reader = new FileReader();

                //     reader.onload = function () {
                //         // $('#preview').attr('src', reader.result);
                //         let img_str = '<img src="' + reader.result + '" class="preview_img">';
                //         preview_el.innerHTML = img_str;
                //         $('#photo-dropzone').val("");
                //         $('#preview-dropzone').val("");
                //     };

                //     reader.readAsDataURL(file);
                // }
                // ======================================================
                var files = e.dataTransfer.files;
                var file = files[0];
                if (file.type.match('image.*')) {
                    var reader = new FileReader();

                    reader.onload = function () {
                        // $('#preview').attr('src', reader.result);
                        $("#previewBox").html('<img src="' + reader.result + '" class="preview_img">');
                        // $('#photo-dropzone').val("aaaa");
                        // $('#photo-dropzone').val(file.name);
                        $('#photo-dropzone').prop('files', files);;
                        // $('#preview-dropzone').val("");
                    };

                    reader.readAsDataURL(file);
                }
            });


            // ====================drop image - preview =====

            // ========================(file) one single picture
            var preview_img = function (file) {

                // var reader = new FileReader(); // 用來讀取檔案
                // reader.readAsDataURL(file); // 讀取檔案 (也可以放最後面 将文件内容读取为一个 Base64 编码的字符串, 该字符串可以用于在网页中显示图片，或者上传到服务器进行保存。)
                // reader.addEventListener("load", function () {
                //     console.log(reader.result);
                //     /*
                //     let img_node = document.createElement("img"); // <img>
                //     img_node.setAttribute("src", reader.result); // <img src="base64">
                //     img_node.setAttribute("class", "preview_img"); // <img src="base64" class="preview_img">
                //     preview_el.innerHTML = '';
                //     preview_el.append(img_node);
                //     */

                //     let img_str = '<img src="' + reader.result + '" class="preview_img">';
                //     preview_el.innerHTML = img_str;
                // });

                // var files = e.dataTransfer.files;
                // var file = files[0];
                if (file.type.match('image.*')) {
                    var reader = new FileReader();

                    reader.onload = function () {
                        // $('#preview').attr('src', reader.result);
                        $("#previewBox").html('<img src="' + reader.result + '" class="preview_img">');
                        // $('#photo-dropzone').val("aaaa");
                        // $('#photo-dropzone').val(file.name);
                        $('#photo-dropzone').prop('files', files);;
                        // $('#preview-dropzone').val("");
                    };

                    reader.readAsDataURL(file);
                }
            };
            //==================================== image upload js -gpt =======================================================================================
            //==================================== google map api =======================================================================================

            //==================================== form-input validate &&  session storage =======================================================================================
            // Example starter JavaScript for disabling form submissions if there are invalid fields
            (function () {
                'use strict'

                // Fetch all the forms we want to apply custom Bootstrap validation styles to
                var forms = document.querySelectorAll('.needs-validation')

                // Loop over them and prevent submission
                Array.prototype.slice.call(forms)
                    .forEach(function (form) {
                        form.addEventListener('submit', function (event) {

                            if (!form.checkValidity()) {
                                event.preventDefault()
                                event.stopPropagation()
                                console.log("!form.checkValidity()");
                            } else {
                                console.log("hiii");
                                // e.preventDefault();

                                var send_data = {};

                                send_data.photo_dropzone = $("#photo-dropzone").val();
                                send_data.event_name = $("#event_name").val();
                                send_data.categoryId = $("#categoryId").val();
                                send_data.city = $("#city").val();
                                send_data.district = $("#district").val();
                                send_data.location = $("#location").val();
                                send_data.address = $("#address").val();
                                send_data.price = $("#price").val();
                                send_data.eventDate = $("#eventDate").val();
                                send_data.startTime = $("#startTime").val();
                                send_data.lastVerifyDate = $("#lastVerifyDate").val();
                                send_data.lastVerifyTime = $("#lastVerifyTime").val();
                                send_data.maxAttendees = $("#maxAttendees").val();
                                send_data.paymentMethod = $("#paymentMethod").val();
                                send_data.description = $("#description").val();

                                console.log(send_data);

                                var img_base64_el = document.querySelector(".preview_img");
                                if (img_base64_el) {
                                    send_data.img_base64 = img_base64_el.getAttribute("src");
                                }

                                // 把資料存到session 裡面-先不存到資料庫- 給預覽頁面座使用
                                sessionStorage.setItem("form_data", JSON.stringify(send_data));
                            };

                            form.classList.add('was-validated')

                        }, false)
                    })


            })()


            // =========================== 資料送出 ========================= //




            // $("#btn_submit").on("click", function (e) {
            //     e.preventDefault();

            //     var send_data = {};

            //     send_data.photo_dropzone = $("#photo-dropzone").val();
            //     send_data.event_name = $("#event_name").val();
            //     send_data.categoryId = $("#categoryId").val();
            //     send_data.city = $("#city").val();
            //     send_data.district = $("#district").val();
            //     send_data.location = $("#location").val();
            //     send_data.address = $("#address").val();
            //     send_data.price = $("#price").val();
            //     send_data.eventDate = $("#eventDate").val();
            //     send_data.startTime = $("#startTime").val();
            //     send_data.lastVerifyDate = $("#lastVerifyDate").val();
            //     send_data.lastVerifyTime = $("#lastVerifyTime").val();
            //     send_data.maxAttendees = $("#maxAttendees").val();
            //     send_data.paymentMethod = $("#paymentMethod").val();
            //     send_data.description = $("#description").val();

            //     console.log(send_data);

            //     var img_base64_el = document.querySelector(".preview_img");
            //     if (img_base64_el) {
            //         send_data.img_base64 = img_base64_el.getAttribute("src");
            //     }

            //     // if (lng_el.value != "") {
            //     //     send_data.position = {
            //     //         lng: lng_el.value,
            //     //         lat: lat_el.value
            //     //     };
            //     // }
            //     // console.log(send_data);
            //     console.log(send_data);
            //     sessionStorage.setItem("form_data", JSON.stringify(send_data));
            //     // location.href = "./confirm.html";
            //     // location.href = "http://localhost:8081/THA101G1/EventAddServlet";

            // });

            // ====================================
            // console.log($("#photo-dropzone").val());
            // console.log($("#event_name").val());
            // console.log($("#categoryId").val());
            // console.log($("#city").val());
            // console.log($("#district").val());
            // console.log($("#location").val());
            // console.log($("#address").val());
            // console.log($("#price").val());
            // console.log($("#eventDate").val());
            // console.log($("#startTime").val());
            // console.log($("#lastVerifyDate").val());
            // console.log($("#lastVerifyTime").val());
            // console.log($("#maxAttendees").val());
            // console.log($("#paymentMethod").val());
            // console.log($("#description").val());

        }); //Load ====
    </script>

</body>

</html>